# 211103_TIL

## ì˜¤ëŠ˜ í•œ ì¼

- immer ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©í•˜ì—¬ ë¶ˆë³€ì„± ìœ ì§€

-  reactì—ì„œ ì´ë¯¸ì§€ ê²½ë¡œ ë¬¸ì œ

  -   css íŒŒì¼ì—ì„œ backgound-image ì‚¬ìš© ì—ëŸ¬



### immer ë¼ì´ë¸ŒëŸ¬ë¦¬

`npm i immer`

#### ë¶ˆë³€ì„± (Immutable)

ë¦¬ì•¡íŠ¸ì—ì„œëŠ” ë¶ˆë³€ì„±ì„ ìœ ì§€í•˜ë©´ì„œ, ìƒíƒ¯ê°’ì„ ì—…ë°ì´íŠ¸ í•´ì•¼ë§Œ í•©ë‹ˆë‹¤. immer ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ë©´ ì¼ë°˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ ê°ì²´ ì“°ë“¯ì´ ì‚¬ìš©í•˜ë©´, ë¶ˆë³€ê°ì²´ë¡œì„œ ì²˜ë¦¬í•´ì¤ë‹ˆë‹¤.

```jsx
const todo = {
    name: 'immer ì´í•´í•˜ê¸°',
    is_completted: false,
}

const newState = {
    ...todo,
    is_completed: true
}

const fruits = ['ì˜¤ë Œì§€', 'ì‚¬ê³¼', 'ë ˆëª¬', 'ë°”ë‚˜ë‚˜']

// ì œê±°ëœ ê°ì²´ë“¤ì„ ë°˜í™˜í•˜ì—¬, fruits ê°ì²´ë¥¼ ë°˜í™˜ (BAD)
fruits.splice(1, 2, 'ë”¸ê¸°')

// fruitsë¥¼ ë³€ê²½í•˜ì§€ ì•Šê³ , ìƒˆë¡œìš´ ê°ì²´ newFruitsë¥¼ ìƒì„±
const newFruits = [
    ...fruits.slice(0, 1),
    'ë”¸ê¸°',
    ...fruits.slice(3)
]

// immerë¥¼ ì‚¬ìš©í•  ê²½ìš°, ìµìˆ™í•œ ì½”ë“œë¡œ ë¶ˆë³€ì„±ì„ ì§€í‚¬ ìˆ˜ ìˆìŒ
const newFruits = produce(fruits, draft => {
	draft.splice(1, 2, 'ë”¸ê¸°')
})
```



#### ìƒíƒ¯ê°’ setterì—ì„œì˜ immer

produceì˜ ì²«ë²ˆì§¸ ì¸ìê°€ í•¨ìˆ˜ë¼ë©´ ê·¸ ì¸ìëŠ” receipt í•¨ìˆ˜ë¡œ ì‚¬ìš©ë˜ë©° ì—…ë°ì´íŠ¸ í•¨ìˆ˜ë¥¼ ë°˜í™˜í•˜ë©° ìƒíƒ¯ê°’ setterì™€ ì—®ì–´ì“°ê¸° ì¢‹ìŠµë‹ˆë‹¤.

```jsx
import React, { useState } from 'react'
import { produce } from 'immer'

function App() {
    const [state, setState] = useState({ score: 10 })
    
    const onClick1 = () => {
        setState({
            score:state.score + 1
        })
    }
    
    const onClick2 = () => {
        setState(prevState => 
            produce(prevState, draft => {
            	draft.score += 1
        })
    }
    const onClick3 = () => {
         setState(produce(draft => { draft.score += 1 }))   
    }
}
```



### reactì—ì„œ ì´ë¯¸ì§€ ê²½ë¡œ ë¬¸ì œ

> **ğŸš¨ Error: cssì—ì„œ ì´ë¯¸ì§€ ê²½ë¡œ ì„¤ì •** 
> ./src/App.css (./node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!./node_modules/postcss-loader/src??postcss!./src/App.css)
> Module not found: You attempted to import ../assets/room1.jpg which falls outside of the project src/ directory. Relative imports outside of src/ are not supported.

**ì›ì¸: cssíŒŒì¼ì—ì„œ ì ˆëŒ€ê²½ë¡œëŠ” srcí´ë”ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•˜ë¯€ë¡œ public í´ë”ì— ì ‘ê·¼í•˜ë ¤ê³  í•˜ì ê²½ë¡œë¥¼ ì•Œ ìˆ˜ ì—†ì–´ ì—ëŸ¬ê°€ ë°œìƒ**

jsx íŒŒì¼ì—ì„œ ì ˆëŒ€ê²½ë¡œëŠ” `public` í´ë”ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•©ë‹ˆë‹¤. CRAì—ì„œ importí•œ íŒŒì¼ë“¤ì˜ ì»´íŒŒì¼ì€ src íŒŒì¼ ì•ˆì—ì„œë§Œ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤. css íŒŒì¼ì—ì„œ background url ì‚¬ìš©í•˜ëŠ” ê²½ìš° ì»´íŒŒì¼ì‹œ ì´ë¯¸ì§€ ìì²´ë„ í¬í•¨ë˜ì–´ ì§„í–‰ë˜ê¸°ì— ë°œìƒë˜ëŠ” ë¬¸ì œì…ë‹ˆë‹¤.



## ì°¸ê³ ìë£Œ

[Immer ë¥¼ ì‚¬ìš©í•œ ë” ì‰¬ìš´ ë¶ˆë³€ì„± ê´€ë¦¬](https://react.vlpt.us/basic/23-immer.html)

[reactì—ì„œ ì´ë¯¸ì§€ ê²½ë¡œ ë¬¸ì œ](https://britny-no.tistory.com/21)

[[React] Create-react-app í”„ë¡œì íŠ¸ì—ì„œ ì´ë¯¸ì§€ ê²½ë¡œë¥¼ ì„¤ì •í•˜ëŠ” 4ê°€ì§€ ë°©ë²•](https://velog.io/@rimo09/React-Create-react-app-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8%EC%97%90%EC%84%9C-%EC%9D%B4%EB%AF%B8%EC%A7%80-%EA%B2%BD%EB%A1%9C%EB%A5%BC-%EC%84%A4%EC%A0%95%ED%95%98%EB%8A%94-4%EA%B0%80%EC%A7%80-%EB%B0%A9%EB%B2%95)

